{
  "client": "Thunder Client",
  "collectionName": "Blog API",
  "dateExported": "2024-03-14T10:00:00.000Z",
  "version": "1.1",
  "folders": [
    {
      "name": "Articles",
      "items": [
        {
          "name": "Get All Articles",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/articles",
            "auth": {
              "type": "bearer",
              "bearer": "{{authToken}}"
            }
          },
          "test": {
            "type": "json",
            "scripts": [
              "pm.test('Status code is 200', function() {",
              "    pm.response.to.have.status(200);",
              "});",
              "pm.test('Response is an array', function() {",
              "    pm.expect(pm.response.json()).to.be.an('array');",
              "});"
            ]
          }
        },
        {
          "name": "Get Single Article",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/articles/{{articleId}}",
            "auth": {
              "type": "bearer",
              "bearer": "{{authToken}}"
            }
          },
          "test": {
            "type": "json",
            "scripts": [
              "pm.test('Status code is 200', function() {",
              "    pm.response.to.have.status(200);",
              "});",
              "pm.test('Article details are correct', function() {",
              "    const responseJson = pm.response.json();",
              "    pm.expect(responseJson.id).to.equal(pm.environment.get('articleId'));",
              "    pm.expect(responseJson.title).to.equal('Test Article');",
              "});"
            ]
          }
        },
        {
          "name": "Create Article",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/articles",
            "auth": {
              "type": "bearer",
              "bearer": "{{authToken}}"
            },
            "body": {
              "type": "form-data",
              "raw": "",
              "form": [
                {
                  "name": "title",
                  "value": "Test Article"
                },
                {
                  "name": "introduction",
                  "value": "Test Introduction"
                },
                {
                  "name": "content",
                  "value": "Test Content"
                },
                {
                  "name": "category_id",
                  "value": "{{categoryId}}"
                },
                {
                  "name": "status",
                  "value": "draft"
                }
              ],
              "files": [
                {
                  "name": "thumbnail",
                  "value": "./test/fixtures/test-image.jpg"
                }
              ]
            }
          },
          "test": {
            "type": "json",
            "scripts": [
              "pm.test('Status code is 201', function() {",
              "    pm.response.to.have.status(201);",
              "});",
              "const responseJson = pm.response.json();",
              "pm.environment.set('articleId', responseJson.id);",
              "pm.test('Article created successfully', function() {",
              "    pm.expect(responseJson).to.have.property('title');",
              "    pm.expect(responseJson).to.have.property('id');",
              "});"
            ]
          }
        },
        {
          "name": "Update Article",
          "request": {
            "method": "PUT",
            "url": "{{baseUrl}}/api/articles/{{articleId}}",
            "auth": {
              "type": "bearer",
              "bearer": "{{authToken}}"
            },
            "body": {
              "type": "json",
              "raw": {
                "title": "Updated Article",
                "status": "published"
              }
            }
          },
          "test": {
            "type": "json",
            "scripts": [
              "pm.test('Status code is 200', function() {",
              "    pm.response.to.have.status(200);",
              "});",
              "pm.test('Article updated successfully', function() {",
              "    const responseJson = pm.response.json();",
              "    pm.expect(responseJson.title).to.equal('Updated Article');",
              "    pm.expect(responseJson.status).to.equal('published');",
              "});"
            ]
          }
        },
        {
          "name": "Delete Article",
          "request": {
            "method": "DELETE",
            "url": "{{baseUrl}}/api/articles/{{articleId}}",
            "auth": {
              "type": "bearer",
              "bearer": "{{authToken}}"
            }
          },
          "test": {
            "type": "json",
            "scripts": [
              "pm.test('Status code is 200', function() {",
              "    pm.response.to.have.status(200);",
              "});",
              "pm.test('Article deleted successfully', function() {",
              "    const responseJson = pm.response.json();",
              "    pm.expect(responseJson.message).to.equal('Article deleted successfully');",
              "});"
            ]
          }
        }
      ]
    },
    {
      "name": "Categories",
      "items": [
        {
          "name": "Get All Categories",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/categories",
            "auth": {
              "type": "bearer",
              "bearer": "{{authToken}}"
            }
          },
          "test": {
            "type": "json",
            "scripts": [
              "pm.test('Status code is 200', function() {",
              "    pm.response.to.have.status(200);",
              "});",
              "pm.test('Categories retrieved successfully', function() {",
              "    const responseJson = pm.response.json();",
              "    pm.expect(responseJson).to.be.an('array');",
              "    if (responseJson.length > 0) {",
              "        pm.environment.set('categoryId', responseJson[0].id);",
              "    }",
              "});"
            ]
          }
        }
      ]
    }
  ]
} 